"use strict";(self["webpackChunkcendana_web"]=self["webpackChunkcendana_web"]||[]).push([[300],{3300:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});t(246);var l=t(3673);const n=(0,l.Uk)(" Tambah Beban Usaha "),o={class:"row flex-center q-my-xl"},u={class:"col-md-6 col-xs-12"};function d(e,a,t,d,r,s){const i=(0,l.up)("q-toolbar-title"),p=(0,l.up)("q-btn"),c=(0,l.up)("q-toolbar"),m=(0,l.up)("q-separator"),y=(0,l.up)("ocat-options"),b=(0,l.up)("rupiah-input"),f=(0,l.up)("q-select"),h=(0,l.up)("datetime-input"),v=(0,l.up)("q-input"),O=(0,l.up)("q-form"),S=(0,l.up)("q-card-section"),T=(0,l.up)("q-card-actions"),w=(0,l.up)("q-card"),q=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(q,null,{default:(0,l.w5)((()=>[(0,l.Wm)(c,{class:"q-px-lg bg-grey-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"text-weight-bold"},{default:(0,l.w5)((()=>[n])),_:1}),(0,l.Wm)(p,{flat:"",color:"primary",label:"tambah",icon:"add"})])),_:1}),(0,l.Wm)(m),(0,l.Wm)("div",o,[(0,l.Wm)("div",u,[(0,l.Wm)(w,{flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(S,null,{default:(0,l.w5)((()=>[(0,l.Wm)(O,{ref:"form"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:e.payload.opex,"onUpdate:modelValue":a[1]||(a[1]=a=>e.payload.opex=a),class:"q-mb-md",rules:[e=>!!e||"Beban Usaha Harus Diisi"]},null,8,["modelValue","rules"]),(0,l.Wm)(b,{label:"Nominal",modelValue:e.payload.nominal,"onUpdate:modelValue":a[2]||(a[2]=a=>e.payload.nominal=a),class:"q-mb-md"},null,8,["modelValue"]),(0,l.Wm)(f,{label:"Status Transaksi",modelValue:e.payload.status,"onUpdate:modelValue":a[3]||(a[3]=a=>e.payload.status=a),options:e.TRANSACTION_STATUS_OPTIONS,"emit-value":"",class:"q-mb-md","display-value":e.selectedStatus},null,8,["modelValue","options","display-value"]),(0,l.Wm)(f,{label:"Metode Pembayaran",modelValue:e.payload.paymentMethod,"onUpdate:modelValue":a[4]||(a[4]=a=>e.payload.paymentMethod=a),options:e.PAYMENT_METHOD_OPTIONS,"display-value":e.selectedPaymentMethod,"emit-value":"",class:"q-mb-md"},null,8,["modelValue","options","display-value"]),(0,l.Wm)(h,{label:"Waktu Transaksi",modelValue:e.payload.createdAt,"onUpdate:modelValue":a[5]||(a[5]=a=>e.payload.createdAt=a)},null,8,["modelValue"]),(0,l.Wm)(v,{label:"Keterangan",type:"textarea",modelValue:e.payload.description,"onUpdate:modelValue":a[6]||(a[6]=a=>e.payload.description=a),class:"q-mb-md"},null,8,["modelValue"])])),_:1},512)])),_:1}),(0,l.Wm)(m),(0,l.Wm)(T,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{onClick:e.onSubmit,loading:"loading"==e.result.type,unelevated:"",dark:"",color:"primary",label:"simpan"},null,8,["onClick","loading"])])),_:1})])),_:1})])])])),_:1})}var r=t(1959),s=t(7763),i=t(2783),p=t(5898),c=t(4964),m=t(891),y=t(2179),b=t(3385),f=t(6135),h=t(9582),v=function(e,a,t,l){function n(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function u(e){try{r(l.next(e))}catch(a){o(a)}}function d(e){try{r(l["throw"](e))}catch(a){o(a)}}function r(e){e.done?t(e.value):n(e.value).then(u,d)}r((l=l.apply(e,a||[])).next())}))},O=function(e,a){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)a.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(t[l[n]]=e[l[n]])}return t};const S=(0,l.aZ)({components:{LoadingPane:s.Z,OcatOptions:y.Z,RupiahInput:b.Z,DatetimeInput:f.Z},setup(e){const a=(0,r.qj)({opex:{},nominal:"0",status:"SUCCESS",paymentMethod:"ONLINE",createdAt:(0,i.s)(),description:""}),t=(0,l.Fl)((()=>{const e=m.$A.find((e=>e.value==a.status));return e?e.label:"-- pilih status transaksi --"})),n=(0,l.Fl)((()=>{const e=m.x$.find((e=>e.value==a.paymentMethod));return e?e.label:"-- pilih metode pembayaran --"})),o=(0,l.f3)("user"),{createEntity:u,result:d}=(0,c.Zh)({entityName:"Beban Usaha",transform:e=>{const{opex:a,createdAt:t}=e,l=O(e,["opex","createdAt"]),n=o.value;return Object.assign(Object.assign({},l),{createdAt:(0,p.V)(t),opexId:a.id,authorId:n.id})}}),s=(0,h.tv)(),y=(0,r.iH)(null),b=()=>v(this,void 0,void 0,(function*(){const e=y.value;if(!e)return;const t=yield e.validate(!0);t&&(yield u("/v1/api/opex-trans",a),s.back())}));return{form:y,onSubmit:b,payload:a,PAYMENT_METHOD_OPTIONS:m.x$,TRANSACTION_STATUS_OPTIONS:m.$A,selectedPaymentMethod:n,selectedStatus:t,result:d}}});var T=t(4379),w=t(9570),q=t(3747),x=t(2165),V=t(5869),W=t(151),g=t(5589),A=t(5269),Z=t(3314),_=t(4842),P=t(9367),N=t(7518),k=t.n(N);S.render=d;const I=S;k()(S,"components",{QPage:T.Z,QToolbar:w.Z,QToolbarTitle:q.Z,QBtn:x.Z,QSeparator:V.Z,QCard:W.Z,QCardSection:g.Z,QForm:A.Z,QSelect:Z.Z,QInput:_.Z,QCardActions:P.Z})}}]);