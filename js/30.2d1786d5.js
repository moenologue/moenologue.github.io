"use strict";(self["webpackChunkcendana_web"]=self["webpackChunkcendana_web"]||[]).push([[30],{2030:(e,a,t)=>{t.r(a),t.d(a,{default:()=>W});var n=t(3673);const l=(0,n.Wm)("div",{class:"q-pa-sm"},[(0,n.Wm)("h6",{class:"q-my-none"},"Edit Penjualan")],-1);function o(e,a,t,o,r,u){const i=(0,n.up)("q-separator"),d=(0,n.up)("q-card-section"),s=(0,n.up)("customer-search-input"),p=(0,n.up)("q-input"),c=(0,n.up)("rupiah-input"),m=(0,n.up)("q-form"),y=(0,n.up)("q-btn"),f=(0,n.up)("q-card-actions"),g=(0,n.up)("q-card"),b=(0,n.up)("q-dialog");return(0,n.wg)(),(0,n.j4)(b,{"model-value":!0,persistent:""},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{flat:"",bordered:"",style:{width:"500px"}},{default:(0,n.w5)((()=>[l,(0,n.Wm)(i),"loading"==e.sale.type?((0,n.wg)(),(0,n.j4)(d,{key:0})):((0,n.wg)(),(0,n.j4)(d,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{ref:"form"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{modelValue:e.payload.targetUser,"onUpdate:modelValue":a[1]||(a[1]=a=>e.payload.targetUser=a),class:"q-mb-md"},null,8,["modelValue"]),(0,n.Wm)(p,{label:"Pajak",class:"q-mb-md",modelValue:e.payload.tax,"onUpdate:modelValue":a[2]||(a[2]=a=>e.payload.tax=a),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Biaya Pengiriman",modelValue:e.payload.shipping,"onUpdate:modelValue":a[3]||(a[3]=a=>e.payload.shipping=a)},null,8,["modelValue"]),(0,n.Wm)(p,{label:"Diskon",class:"q-mb-md",modelValue:e.payload.discount,"onUpdate:modelValue":a[4]||(a[4]=a=>e.payload.discount=a),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])])),_:1},512)])),_:1})),(0,n.Wm)(i),(0,n.Wm)(f,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{onClick:e.onSubmit,loading:e.loading,label:"Simpan",square:"",unelevated:"",dark:"",color:"primary"},null,8,["onClick","loading"])])),_:1})])),_:1})])),_:1})}var r=t(1959),u=t(927),i=t(4964),d=t(3385),s=t(1289),p=function(e,a,t,n){function l(e){return e instanceof t?e:new t((function(a){a(e)}))}return new(t||(t=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(a){o(a)}}function u(e){try{i(n["throw"](e))}catch(a){o(a)}}function i(e){e.done?t(e.value):l(e.value).then(r,u)}i((n=n.apply(e,a||[])).next())}))},c=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t};const m=(0,n.aZ)({props:{id:{type:String,required:!0}},components:{RupiahInput:d.Z,CustomerSearchInput:s.Z},setup(e){const a=(0,r.Vh)(e,"id"),{sale:t,getSale:l}=(0,u.p)(a),o=(0,r.qj)({targetUser:{},tax:0,discount:0,shipping:"0"}),{result:d,updateEntity:s}=(0,i.lW)({entityName:"Penjualan",transform:e=>{const{targetUser:a}=e,t=c(e,["targetUser"]);return Object.assign(Object.assign({},t),{targetUserId:a.id})}}),m=(0,n.Fl)((()=>"loading"==t.value.type||"loading"==d.value.type));(0,n.bv)((()=>{l().then((e=>{o.targetUser=e.targetUser,o.tax=e.tax,o.discount=e.discount,o.shipping=e.shipping}))}));const y=(0,r.iH)(null),f=()=>p(this,void 0,void 0,(function*(){const a=y.value;if(!a)return;const t=yield a.validate(!0);t&&s(`/v1/api/sales/${e.id}`,o)}));return{payload:o,sale:t,onSubmit:f,loading:m,form:y}}});var y=t(6778),f=t(151),g=t(5869),b=t(5589),h=t(5269),v=t(4842),w=t(9367),q=t(2165),j=t(7518),V=t.n(j);m.render=o;const W=m;V()(m,"components",{QDialog:y.Z,QCard:f.Z,QSeparator:g.Z,QCardSection:b.Z,QForm:h.Z,QInput:v.Z,QCardActions:w.Z,QBtn:q.Z})}}]);