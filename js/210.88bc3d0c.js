"use strict";(self["webpackChunkcendana_web"]=self["webpackChunkcendana_web"]||[]).push([[210],{6210:(e,t,a)=>{a.r(t),a.d(t,{default:()=>k});a(246);var n=a(3673);const l=(0,n.Uk)(" Tambah Data Penjualan "),r={class:"row flex-center q-my-xl"},o={class:"col-md-6 col-xs-12"};function u(e,t,a,u,d,i){const s=(0,n.up)("q-toolbar-title"),c=(0,n.up)("q-toolbar"),p=(0,n.up)("customer-search-input"),m=(0,n.up)("q-input"),f=(0,n.up)("datetime-input"),w=(0,n.up)("q-form"),b=(0,n.up)("q-card-section"),h=(0,n.up)("q-separator"),g=(0,n.up)("q-btn"),y=(0,n.up)("q-card"),v=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(v,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"q-px-lg bg-grey-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(s,{class:"text-weight-bold text-center"},{default:(0,n.w5)((()=>[l])),_:1})])),_:1}),(0,n.Wm)("div",r,[(0,n.Wm)("div",o,[(0,n.Wm)(y,{flat:"",bordered:""},{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(w,{ref:"form"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{rules:[e=>!!e||"Pelanggan Harus Diisi"],modelValue:e.payload.targetUser,"onUpdate:modelValue":t[1]||(t[1]=t=>e.payload.targetUser=t)},null,8,["rules","modelValue"]),(0,n.Wm)(m,{type:"textarea",modelValue:e.payload.description,"onUpdate:modelValue":t[2]||(t[2]=t=>e.payload.description=t),label:"Keterangan",outlined:"",class:"q-mb-md"},null,8,["modelValue"]),(0,n.Wm)(f,{modelValue:e.payload.createdAt,"onUpdate:modelValue":t[3]||(t[3]=t=>e.payload.createdAt=t)},null,8,["modelValue"])])),_:1},512)])),_:1}),(0,n.Wm)(h),(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,{onClick:e.onSubmit,label:"simpan",dark:"",color:"blue",unelevated:""},null,8,["onClick"])])),_:1})])),_:1})])])])),_:1})}var d=a(1959),i=a(2783),s=a(5898),c=a(6135),p=a(1289),m=a(4964),f=a(4740),w=a(9582),b=function(e,t,a,n){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,r){function o(e){try{d(n.next(e))}catch(t){r(t)}}function u(e){try{d(n["throw"](e))}catch(t){r(t)}}function d(e){e.done?a(e.value):l(e.value).then(o,u)}d((n=n.apply(e,t||[])).next())}))};const h=(0,n.aZ)({components:{CustomerSearchInput:p.Z,DatetimeInput:c.Z},setup(){const e=(0,d.iH)(null),t=(0,d.qj)({targetUser:null,description:"",createdAt:(0,i.s)()}),a=(0,n.f3)("user"),l=(0,w.tv)(),{result:r,createEntity:o}=(0,m.mf)("Penjualan"),u=()=>b(this,void 0,void 0,(function*(){if(!a)throw new Error("user is not defined");const n=e.value;if(!n)throw new Error("form is undefined");const r=yield n.validate(!0);if(!r)return;const{targetUser:u}=t;if(!u)throw new Error("Target User is undefined");const d={targetUserId:u.id,description:t.description,createdAt:(0,s.V)(t.createdAt),authorId:a.value.id},i=f.Mr,c=yield o(i,d);l.push(`/app/sale/${c.id}/detail`)}));return{form:e,payload:t,createResult:r,onSubmit:u}}});var g=a(4379),y=a(9570),v=a(3747),q=a(151),W=a(5589),Z=a(5269),U=a(4842),V=a(5869),x=a(2165),Q=a(7518),_=a.n(Q);h.render=u;const k=h;_()(h,"components",{QPage:g.Z,QToolbar:y.Z,QToolbarTitle:v.Z,QCard:q.Z,QCardSection:W.Z,QForm:Z.Z,QInput:U.Z,QSeparator:V.Z,QBtn:x.Z})}}]);