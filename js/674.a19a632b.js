"use strict";(self["webpackChunkcendana_web"]=self["webpackChunkcendana_web"]||[]).push([[674],{6674:(a,e,t)=>{t.r(e),t.d(e,{default:()=>I});var l=t(3673);const o=(0,l.Uk)(" Tambah Biaya Peralatan "),n={class:"row flex-center q-my-xl"},u={class:"col-md-6 col-xs-12"};function r(a,e,t,r,d,s){const i=(0,l.up)("q-toolbar-title"),c=(0,l.up)("q-btn"),p=(0,l.up)("q-toolbar"),m=(0,l.up)("q-separator"),y=(0,l.up)("tcat-options"),f=(0,l.up)("rupiah-input"),b=(0,l.up)("q-select"),v=(0,l.up)("datetime-input"),h=(0,l.up)("q-form"),O=(0,l.up)("q-card-section"),S=(0,l.up)("q-card-actions"),T=(0,l.up)("q-card"),w=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"q-px-lg bg-grey-2"},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"text-weight-bold"},{default:(0,l.w5)((()=>[o])),_:1}),(0,l.Wm)(c,{flat:"",color:"primary",label:"tambah",icon:"add"})])),_:1}),(0,l.Wm)(m),(0,l.Wm)("div",n,[(0,l.Wm)("div",u,[(0,l.Wm)(T,{flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(O,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h,{ref:"form"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{modelValue:a.payload.tool,"onUpdate:modelValue":e[1]||(e[1]=e=>a.payload.tool=e),class:"q-mb-md",rules:[a=>!!a||"Kategori Peralatan Harus Diisi"]},null,8,["modelValue","rules"]),(0,l.Wm)(f,{label:"Nominal",modelValue:a.payload.nominal,"onUpdate:modelValue":e[2]||(e[2]=e=>a.payload.nominal=e),class:"q-mb-md"},null,8,["modelValue"]),(0,l.Wm)(b,{label:"Status Transaksi",modelValue:a.payload.status,"onUpdate:modelValue":e[3]||(e[3]=e=>a.payload.status=e),options:a.TRANSACTION_STATUS_OPTIONS,"emit-value":"",class:"q-mb-md","display-value":a.selectedStatus},null,8,["modelValue","options","display-value"]),(0,l.Wm)(b,{label:"Status Transaksi",modelValue:a.payload.paymentMethod,"onUpdate:modelValue":e[4]||(e[4]=e=>a.payload.paymentMethod=e),options:a.PAYMENT_METHOD_OPTIONS,"display-value":a.selectedPaymentMethod,"emit-value":"",class:"q-mb-md"},null,8,["modelValue","options","display-value"]),(0,l.Wm)(v,{label:"Waktu Transaksi",modelValue:a.payload.createdAt,"onUpdate:modelValue":e[5]||(e[5]=e=>a.payload.createdAt=e)},null,8,["modelValue"])])),_:1},512)])),_:1}),(0,l.Wm)(m),(0,l.Wm)(S,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{onClick:a.onSubmit,loading:"loading"==a.result.type,unelevated:"",dark:"",color:"primary",label:"simpan"},null,8,["onClick","loading"])])),_:1})])),_:1})])])])),_:1})}var d=t(1959),s=t(7763),i=t(2783),c=t(5898),p=t(4964),m=t(891),y=t(2257),f=t(3385),b=t(9582),v=t(6135),h=function(a,e,t,l){function o(a){return a instanceof t?a:new t((function(e){e(a)}))}return new(t||(t=Promise))((function(t,n){function u(a){try{d(l.next(a))}catch(e){n(e)}}function r(a){try{d(l["throw"](a))}catch(e){n(e)}}function d(a){a.done?t(a.value):o(a.value).then(u,r)}d((l=l.apply(a,e||[])).next())}))},O=function(a,e){var t={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&e.indexOf(l)<0&&(t[l]=a[l]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(a);o<l.length;o++)e.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(a,l[o])&&(t[l[o]]=a[l[o]])}return t};const S=(0,l.aZ)({components:{LoadingPane:s.Z,TcatOptions:y.Z,RupiahInput:f.Z,DatetimeInput:v.Z},setup(a){const e=(0,d.qj)({tool:{},nominal:"0",status:"SUCCESS",paymentMethod:"ONLINE",createdAt:(0,i.s)()}),t=(0,l.Fl)((()=>{const a=m.$A.find((a=>a.value==e.status));return a?a.label:"-- pilih status transaksi --"})),o=(0,l.Fl)((()=>{const a=m.x$.find((a=>a.value==e.paymentMethod));return a?a.label:"-- pilih metode pembayaran --"})),n=(0,l.f3)("user"),{createEntity:u,result:r}=(0,p.Zh)({entityName:"Biaya Peralatan",transform:a=>{const{tool:e,createdAt:t}=a,l=O(a,["tool","createdAt"]),o=n.value;return Object.assign(Object.assign({},l),{createdAt:(0,c.V)(t),toolId:e.id,authorId:o.id})}}),s=(0,b.tv)(),y=(0,d.iH)(null),f=()=>h(this,void 0,void 0,(function*(){const a=y.value;if(!a)return;const t=yield a.validate(!0);if(!t)return;yield u("/v1/api/tool-trans",e);s.back()}));return{form:y,onSubmit:f,payload:e,PAYMENT_METHOD_OPTIONS:m.x$,TRANSACTION_STATUS_OPTIONS:m.$A,selectedPaymentMethod:o,selectedStatus:t,result:r}}});var T=t(4379),w=t(9570),g=t(3747),W=t(2165),q=t(5869),A=t(151),P=t(5589),_=t(5269),V=t(3314),Z=t(9367),k=t(7518),N=t.n(k);S.render=r;const I=S;N()(S,"components",{QPage:T.Z,QToolbar:w.Z,QToolbarTitle:g.Z,QBtn:W.Z,QSeparator:q.Z,QCard:A.Z,QCardSection:P.Z,QForm:_.Z,QSelect:V.Z,QCardActions:Z.Z})}}]);